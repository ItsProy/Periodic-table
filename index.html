<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Periodic Table (1-118)</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/6.3.1/d3.min.js"></script>

<style>
:root{
  --bg-1:#040616; --bg-2:#0a1226;
  --text:#e8f7f0; --neon:#64ffda; --accent:#00bfa5;
  --card-bg: rgba(8,12,22,0.96); --glass-border: rgba(100,255,218,0.12);
  --btnA:#64ffda; --btnB:#00bfa5;
}

html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial;}
body{
  display:flex;justify-content:center;padding:18px;
  background: linear-gradient(180deg,var(--bg-1),var(--bg-2));
  color:var(--text);
  overflow-x:hidden;
  overflow-y:auto;
}

#wrap{width:95vw;max-width:1250px;}
.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;}
h1{margin:0;font-family:"Merriweather",serif;font-weight:700;font-size:1.4rem;
    background:linear-gradient(90deg,#0078ff,var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}

.table-wrapper {
  width:100%;
  overflow-x:auto;
  scroll-behavior:smooth;
  padding-bottom:12px;
}

#container{
  width:max-content;
  min-height:480px;
  border-radius:12px;
  padding:12px;
  position:relative;
  overflow:visible;
  background: transparent;
}

.element-root{
  position:absolute;
  width:80px;
  height:80px;
  transform:translate(-50%,-50%);
  cursor:pointer;
  user-select:none;
}
.svg{width:100%;height:100%;display:block;}
.border-path{stroke-width:2px; fill:none; transition:filter .18s ease, transform .18s ease; transform-origin:center;}
.symbol{position:absolute;left:50%;top:38%;transform:translate(-50%,-50%);font-weight:800;font-size:1.2rem;color:var(--neon);pointer-events:none;}
.element-number {
  position: absolute;
  top: 70%;           
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 0.85rem;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.9);
  text-shadow: 0 0 6px rgba(0, 0, 0, 0.6);
  pointer-events: none;
}


.element-root:hover .border-path{ filter: drop-shadow(0 0 12px rgba(100,255,218,0.2)); transform: translateY(-3px) scale(1.02);}
.element-root:hover .symbol{ text-shadow:0 0 12px rgba(100,255,218,0.28); color:var(--neon);}

@keyframes solidGlow {
  0%,100% {filter: drop-shadow(0 0 3px rgba(255,255,255,0.2));}
  50% {filter: drop-shadow(0 0 12px rgba(255,255,255,0.4));}
}

.modal{ display:none; position:fixed; inset:0; z-index:9999; align-items:center; justify-content:center; background:rgba(6,10,18,0.66); backdrop-filter: blur(8px);}
.modal.show{display:flex;}
.modal-card{
  width:380px; max-width:94%;
  background:var(--card-bg);
  border-radius:14px;
  padding:24px 18px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:16px;
  border:2px solid var(--glass-border);
  box-shadow:0 10px 40px rgba(0,0,0,0.6);
  text-align:left;
}
.modal-symbol{
  font-size:3rem; font-weight:800; color:var(--neon); text-shadow:0 0 14px rgba(100,255,218,0.28);
}
.modal-image{
  width:180px; height:180px; object-fit:cover; border-radius:12px;
  border:3px solid rgba(255,255,255,0.04); box-shadow:0 10px 30px rgba(0,0,0,0.6);
}
.modal-info{width:100%; display:flex; flex-direction:column; gap:8px;}
.modal-row{display:flex; justify-content:space-between; align-items:center; color:#dff6f0; font-size:1rem;}
.modal-row strong{color:var(--neon); width:120px; flex-shrink:0;}
.modal-actions{display:flex; gap:10px; justify-content:center; margin-top:12px;}
.btn{padding:9px 14px; border-radius:10px; border:none; cursor:pointer; font-weight:700; color:#062427; background:linear-gradient(90deg,var(--btnA),var(--btnB)); box-shadow:0 8px 24px rgba(0,0,0,0.45);}
.btn-ghost{background:transparent; color:var(--text); border:1px solid rgba(255,255,255,0.06); box-shadow:none;}
@media(max-width:720px){.element-root{width:11.6vw;height:11.6vw;} .modal-card{padding:18px 12px; gap:12px;} .modal-image{width:150px;height:150px;} .modal-row strong{width:100px;}}

  @keyframes solidGlow {
  0%,100% { filter: drop-shadow(0 0 3px rgba(255,255,255,0.2)); transform: scale(1); }
  50% { filter: drop-shadow(0 0 20px rgba(255,255,255,0.6)); transform: scale(1.08); }
}

</style>
</head>
<body>
<div id="wrap">
  <div class="header"><h1>Periodic Table (1-118)</h1></div>
  <div class="table-wrapper"><div id="container"></div></div>
</div>

<div id="modal" class="modal" aria-hidden="true">
  <div class="modal-card" role="dialog" aria-modal="true">
    <div id="modal-symbol" class="modal-symbol"></div>
    <img id="modal-image" class="modal-image" src="" alt="Element image">
    <div class="modal-info">
      <div class="modal-row"><strong>Atomic Number:</strong> <span id="modal-number"></span></div>
      <div class="modal-row"><strong>Name:</strong> <span id="modal-name"></span></div>
      <div class="modal-row"><strong>Atomic Weight:</strong> <span id="modal-weight"></span></div>
    </div>
    <div class="modal-actions">
      <button id="prev-btn" class="btn-ghost">← Prev</button>
      <button id="next-btn" class="btn">Next →</button>
    </div>
    <div style="margin-top:12px;text-align:center;">
      <button id="close-btn" class="btn-ghost">Close</button>
    </div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const TAU = Math.PI*2;
  const range = n => Array.from({length:n},(_,i)=>i);

  const elements = [
    {n:1, s:"H", name:"Hydrogen", w:"1.008", x:1, y:1, color:"#3d7ea6", phase:"Gas", img:"images/H.jpg"},
    {n:2, s:"He", name:"Helium", w:"4.0026", x:18, y:1, color:"#bc6ff1", phase:"Gas", img:"images/He.jpg"},
    {n:3, s:"Li", name:"Lithium", w:"6.938", x:1, y:2, color:"#f05454", phase:"Solid", img:"images/Li.jpg"},
    {n:4, s:"Be", name:"Beryllium", w:"9.0122", x:2, y:2, color:"#ffa36c", phase:"Solid", img:"images/Be.jpg"},
    {n:5, s:"B", name:"Boron", w:"10.806", x:13, y:2, color:"#64958f", phase:"Solid", img:"images/B.jpg"},
    {n:6, s:"C", name:"Carbon", w:"12.011", x:14, y:2, color:"#8d93ab", phase:"Solid", img:"images/C.jpg"},
    {n:7, s:"N", name:"Nitrogen", w:"14.007", x:15, y:2, color:"#3d7ea6", phase:"Gas", img:"images/N.jpg"},
    {n:8, s:"O", name:"Oxygen", w:"15.999", x:16, y:2, color:"#3d7ea6", phase:"Gas", img:"images/O.jpg"},
    {n:9, s:"F", name:"Fluorine", w:"18.998", x:17, y:2, color:"#3d7ea6", phase:"Gas", img:"images/F.jpg"},
    {n:10, s:"Ne", name:"Neon", w:"20.180", x:18, y:2, color:"#bc6ff1", phase:"Gas", img:"images/Ne.jpg"},
    {n:11, s:"Na", name:"Sodium", w:"22.990", x:1, y:3, color:"#f05454", phase:"Solid", img:"images/Na.jpg"},
    {n:12, s:"Mg", name:"Magnesium", w:"24.305", x:2, y:3, color:"#ffa36c", phase:"Solid", img:"images/Mg.jpg"},
    {n:13, s:"Al", name:"Aluminium", w:"26.982", x:13, y:3, color:"#c0e218", phase:"Solid", img:"images/Al.jpg"},
    {n:14, s:"Si", name:"Silicon", w:"28.085", x:14, y:3, color:"#64958f", phase:"Solid", img:"images/Si.jpg"},
    {n:15, s:"P", name:"Phosphorus", w:"30.974", x:15, y:3, color:"#8d93ab", phase:"Solid", img:"images/P.jpg"},
    {n:16, s:"S", name:"Sulfur", w:"32.06", x:16, y:3, color:"#8d93ab", phase:"Solid", img:"images/S.jpg"},
    {n:17, s:"Cl", name:"Chlorine", w:"35.45", x:17, y:3, color:"#3d7ea6", phase:"Gas", img:"images/Cl.jpg"},
    {n:18, s:"Ar", name:"Argon", w:"39.948", x:18, y:3, color:"#bc6ff1", phase:"Gas", img:"images/Ar.jpg"},
    {n:19, s:"K", name:"Potassium", w:"39.098", x:1, y:4, color:"#f05454", phase:"Solid", img:"images/K.jpg"},
    {n:20, s:"Ca", name:"Calcium", w:"40.078", x:2, y:4, color:"#ffa36c", phase:"Solid", img:"images/Ca.jpg"},
    {n:21, s:"Sc", name:"Scandium", w:"44.956", x:3, y:4, color:"#fcf876", phase:"Solid", img:"images/Sc.jpg"},
    {n:22, s:"Ti", name:"Titanium", w:"47.867", x:4, y:4, color:"#fcf876", phase:"Solid", img:"images/Ti.jpg"},
    {n:23, s:"V", name:"Vanadium", w:"50.942", x:5, y:4, color:"#fcf876", phase:"Solid", img:"images/V.jpg"},
    {n:24, s:"Cr", name:"Chromium", w:"51.996", x:6, y:4, color:"#fcf876", phase:"Solid", img:"images/Cr.jpg"},
    {n:25, s:"Mn", name:"Manganese", w:"54.938", x:7, y:4, color:"#fcf876", phase:"Solid", img:"images/Mn.jpg"},
    {n:26, s:"Fe", name:"Iron", w:"55.845", x:8, y:4, color:"#fcf876", phase:"Solid", img:"images/Fe.jpg"},
    {n:27, s:"Co", name:"Cobalt", w:"58.933", x:9, y:4, color:"#fcf876", phase:"Solid", img:"images/Co.jpg"},
    {n:28, s:"Ni", name:"Nickel", w:"58.693", x:10, y:4, color:"#fcf876", phase:"Solid", img:"images/Ni.jpg"},
    {n:29, s:"Cu", name:"Copper", w:"63.546", x:11, y:4, color:"#c0e218", phase:"Solid", img:"images/Cu.jpg"},
    {n:30, s:"Zn", name:"Zinc", w:"65.38", x:12, y:4, color:"#c0e218", phase:"Solid", img:"images/Zn.jpg"},
    {n:31, s:"Ga", name:"Gallium", w:"69.723", x:13, y:4, color:"#c0e218", phase:"Solid", img:"images/Ga.jpg"},
    {n:32, s:"Ge", name:"Germanium", w:"72.63", x:14, y:4, color:"#64958f", phase:"Solid", img:"images/Ge.jpg"},
    {n:33, s:"As", name:"Arsenic", w:"74.922", x:15, y:4, color:"#64958f", phase:"Solid", img:"images/As.jpg"},
    {n:34, s:"Se", name:"Selenium", w:"78.971", x:16, y:4, color:"#8d93ab", phase:"Solid", img:"images/Se.jpg"},
    {n:35, s:"Br", name:"Bromine", w:"79.904", x:17, y:4, color:"#3d7ea6", phase:"Liquid", img:"images/Br.jpg"},
    {n:36, s:"Kr", name:"Krypton", w:"83.798", x:18, y:4, color:"#bc6ff1", phase:"Gas", img:"images/Kr.jpg"},
    {n:37, s:"Rb", name:"Rubidium", w:"85.468", x:1, y:5, color:"#f05454", phase:"Solid", img:"images/Rb.jpg"},
    {n:38, s:"Sr", name:"Strontium", w:"87.62", x:2, y:5, color:"#ffa36c", phase:"Solid", img:"images/Sr.jpg"},
    {n:39, s:"Y", name:"Yttrium", w:"88.906", x:3, y:5, color:"#fcf876", phase:"Solid", img:"images/Y.jpg"},
    {n:40, s:"Zr", name:"Zirconium", w:"91.224", x:4, y:5, color:"#fcf876", phase:"Solid", img:"images/Zr.jpg"},

    /* period 5 continued */
    {n:41, s:"Nb", name:"Niobium", w:"92.906", x:5, y:5, color:"#fcf876", phase:"Solid", img:"images/Nb.jpg"},
    {n:42, s:"Mo", name:"Molybdenum", w:"95.95", x:6, y:5, color:"#fcf876", phase:"Solid", img:"images/Mo.jpg"},
    {n:43, s:"Tc", name:"Technetium", w:"98", x:7, y:5, color:"#fcf876", phase:"Solid", img:"images/Tc.jpg"},
    {n:44, s:"Ru", name:"Ruthenium", w:"101.07", x:8, y:5, color:"#fcf876", phase:"Solid", img:"images/Ru.jpg"},
    {n:45, s:"Rh", name:"Rhodium", w:"102.91", x:9, y:5, color:"#fcf876", phase:"Solid", img:"images/Rh.jpg"},
    {n:46, s:"Pd", name:"Palladium", w:"106.42", x:10, y:5, color:"#fcf876", phase:"Solid", img:"images/Pd.jpg"},
    {n:47, s:"Ag", name:"Silver", w:"107.87", x:11, y:5, color:"#c0e218", phase:"Solid", img:"images/Ag.jpg"},
    {n:48, s:"Cd", name:"Cadmium", w:"112.41", x:12, y:5, color:"#c0e218", phase:"Solid", img:"images/Cd.jpg"},
    {n:49, s:"In", name:"Indium", w:"114.82", x:13, y:5, color:"#c0e218", phase:"Solid", img:"images/In.jpg"},
    {n:50, s:"Sn", name:"Tin", w:"118.71", x:14, y:5, color:"#c0e218", phase:"Solid", img:"images/Sn.jpg"},
    {n:51, s:"Sb", name:"Antimony", w:"121.76", x:15, y:5, color:"#64958f", phase:"Solid", img:"images/Sb.jpg"},
    {n:52, s:"Te", name:"Tellurium", w:"127.60", x:16, y:5, color:"#8d93ab", phase:"Solid", img:"images/Te.jpg"},
    {n:53, s:"I", name:"Iodine", w:"126.90", x:17, y:5, color:"#3d7ea6", phase:"Solid", img:"images/I.jpg"},
    {n:54, s:"Xe", name:"Xenon", w:"131.29", x:18, y:5, color:"#bc6ff1", phase:"Gas", img:"images/Xe.jpg"},

    /* period 6 main table */
    {n:55, s:"Cs", name:"Cesium", w:"132.91", x:1, y:6, color:"#f05454", phase:"Solid", img:"images/Cs.jpg"},
    {n:56, s:"Ba", name:"Barium", w:"137.33", x:2, y:6, color:"#ffa36c", phase:"Solid", img:"images/Ba.jpg"},
    {n:57, s:"La", name:"Lanthanum", w:"138.91", x:3, y:6, color:"#fcf876", phase:"Solid", img:"images/La.jpg"},
    {n:72, s:"Hf", name:"Hafnium", w:"178.49", x:4, y:6, color:"#fcf876", phase:"Solid", img:"images/Hf.jpg"},
    {n:73, s:"Ta", name:"Tantalum", w:"180.95", x:5, y:6, color:"#fcf876", phase:"Solid", img:"images/Ta.jpg"},
    {n:74, s:"W", name:"Tungsten", w:"183.84", x:6, y:6, color:"#fcf876", phase:"Solid", img:"images/W.jpg"},
    {n:75, s:"Re", name:"Rhenium", w:"186.21", x:7, y:6, color:"#fcf876", phase:"Solid", img:"images/Re.jpg"},
    {n:76, s:"Os", name:"Osmium", w:"190.23", x:8, y:6, color:"#fcf876", phase:"Solid", img:"images/Os.jpg"},
    {n:77, s:"Ir", name:"Iridium", w:"192.22", x:9, y:6, color:"#fcf876", phase:"Solid", img:"images/Ir.jpg"},
    {n:78, s:"Pt", name:"Platinum", w:"195.08", x:10, y:6, color:"#fcf876", phase:"Solid", img:"images/Pt.jpg"},
    {n:79, s:"Au", name:"Gold", w:"196.97", x:11, y:6, color:"#c0e218", phase:"Solid", img:"images/Au.jpg"},
    {n:80, s:"Hg", name:"Mercury", w:"200.59", x:12, y:6, color:"#c0e218", phase:"Liquid", img:"images/Hg.jpg"},
    {n:81, s:"Tl", name:"Thallium", w:"204.38", x:13, y:6, color:"#c0e218", phase:"Solid", img:"images/Tl.jpg"},
    {n:82, s:"Pb", name:"Lead", w:"207.2", x:14, y:6, color:"#c0e218", phase:"Solid", img:"images/Pb.jpg"},
    {n:83, s:"Bi", name:"Bismuth", w:"208.98", x:15, y:6, color:"#64958f", phase:"Solid", img:"images/Bi.jpg"},
    {n:84, s:"Po", name:"Polonium", w:"209", x:16, y:6, color:"#8d93ab", phase:"Solid", img:"images/Po.jpg"},
    {n:85, s:"At", name:"Astatine", w:"210", x:17, y:6, color:"#3d7ea6", phase:"Solid", img:"images/At.jpg"},
    {n:86, s:"Rn", name:"Radon", w:"222", x:18, y:6, color:"#bc6ff1", phase:"Gas", img:"images/Rn.jpg"},

   // Lanthanides (elements 57–71)
{ n:57, s:"La", name:"Lanthanum", w:"138.90547", x:4, y:8.6, color:"#fcf876", phase:"Solid", img:"images/La.jpg" },
{ n:58, s:"Ce", name:"Cerium", w:"140.116", x:5, y:8.6, color:"#fcf876", phase:"Solid", img:"images/Ce.jpg" },
{ n:59, s:"Pr", name:"Praseodymium", w:"140.90766", x:6, y:8.6, color:"#fcf876", phase:"Solid", img:"images/Pr.jpg" },
{ n:60, s:"Nd", name:"Neodymium", w:"144.242", x:7, y:8.6, color:"#fcf876", phase:"Solid", img:"images/Nd.jpg" },
{ n:61, s:"Pm", name:"Promethium", w:"145", x:8, y:8.6, color:"#fcf876", phase:"Solid", img:"images/Pm.jpg" },
{ n:62, s:"Sm", name:"Samarium", w:"150.36", x:9, y:8.6, color:"#fcf876", phase:"Solid", img:"images/Sm.jpg" },
{ n:63, s:"Eu", name:"Europium", w:"151.964", x:10, y:8.6, color:"#fcf876", phase:"Solid", img:"images/Eu.jpg" },
{ n:64, s:"Gd", name:"Gadolinium", w:"157.25", x:11, y:8.6, color:"#fcf876", phase:"Solid", img:"images/Gd.jpg" },
{ n:65, s:"Tb", name:"Terbium", w:"158.92535", x:12, y:8.6, color:"#fcf876", phase:"Solid", img:"images/Tb.jpg" },
{ n:66, s:"Dy", name:"Dysprosium", w:"162.500", x:13, y:8.6, color:"#fcf876", phase:"Solid", img:"images/Dy.jpg" },
{ n:67, s:"Ho", name:"Holmium", w:"164.93033", x:14, y:8.6, color:"#fcf876", phase:"Solid", img:"images/Ho.jpg" },
{ n:68, s:"Er", name:"Erbium", w:"167.259", x:15, y:8.6, color:"#fcf876", phase:"Solid", img:"images/Er.jpg" },
{ n:69, s:"Tm", name:"Thulium", w:"168.93422", x:16, y:8.6, color:"#fcf876", phase:"Solid", img:"images/Tm.jpg" },
{ n:70, s:"Yb", name:"Ytterbium", w:"173.04", x:17, y:8.6, color:"#fcf876", phase:"Solid", img:"images/Yb.jpg" },
{ n:71, s:"Lu", name:"Lutetium", w:"174.9668", x:18, y:8.6, color:"#fcf876", phase:"Solid", img:"images/Lu.jpg" },



    /* period 7 main table */
    {n:87, s:"Fr", name:"Francium", w:"223", x:1, y:7, color:"#f05454", phase:"Solid", img:"images/Fr.jpg"},
    {n:88, s:"Ra", name:"Radium", w:"226", x:2, y:7, color:"#ffa36c", phase:"Solid", img:"images/Ra.jpg"},
    {n:89, s:"Ac", name:"Actinium", w:"227", x:3, y:7, color:"#f1d77a", phase:"Solid", img:"images/Ac.jpg"},
    {n:104, s:"Rf", name:"Rutherfordium", w:"267", x:4, y:7, color:"#e0d27a", phase:"Solid", img:"images/Rf.jpg"},
    {n:105, s:"Db", name:"Dubnium", w:"268", x:5, y:7, color:"#e0d27a", phase:"Solid", img:"images/Db.jpg"},
    {n:106, s:"Sg", name:"Seaborgium", w:"269", x:6, y:7, color:"#e0d27a", phase:"Solid", img:"images/Sg.jpg"},
    {n:107, s:"Bh", name:"Bohrium", w:"270", x:7, y:7, color:"#e0d27a", phase:"Solid", img:"images/Bh.jpg"},
    {n:108, s:"Hs", name:"Hassium", w:"269", x:8, y:7, color:"#e0d27a", phase:"Solid", img:"images/Hs.jpg"},
    {n:109, s:"Mt", name:"Meitnerium", w:"278", x:9, y:7, color:"#e0d27a", phase:"Solid", img:"images/Mt.jpg"},
    {n:110, s:"Ds", name:"Darmstadtium", w:"281", x:10, y:7, color:"#e0d27a", phase:"Solid", img:"images/Ds.jpg"},
    {n:111, s:"Rg", name:"Roentgenium", w:"282", x:11, y:7, color:"#e0d27a", phase:"Solid", img:"images/Rg.jpg"},
    {n:112, s:"Cn", name:"Copernicium", w:"285", x:12, y:7, color:"#e0d27a", phase:"Solid", img:"images/Cn.jpg"},
    {n:113, s:"Nh", name:"Nihonium", w:"286", x:13, y:7, color:"#c0e218", phase:"Solid", img:"images/Nh.jpg"},
    {n:114, s:"Fl", name:"Flerovium", w:"289", x:14, y:7, color:"#c0e218", phase:"Solid", img:"images/Fl.jpg"},
    {n:115, s:"Mc", name:"Moscovium", w:"290", x:15, y:7, color:"#c0e218", phase:"Solid", img:"images/Mc.jpg"},
    {n:116, s:"Lv", name:"Livermorium", w:"293", x:16, y:7, color:"#c0e218", phase:"Solid", img:"images/Lv.jpg"},
    {n:117, s:"Ts", name:"Tennessine", w:"294", x:17, y:7, color:"#3d7ea6", phase:"Solid", img:"images/Ts.jpg"},
    {n:118, s:"Og", name:"Oganesson", w:"294", x:18, y:7, color:"#bc6ff1", phase:"Gas", img:"images/Og.jpg"},

    // Actinides (elements 90–103)
{ n:90, s:"Th", name:"Thorium", w:"232.0377", x:5, y:9.6, color:"#ffd27f", phase:"Solid", img:"images/Th.jpg" },
{ n:91, s:"Pa", name:"Protactinium", w:"231.03588", x:6, y:9.6, color:"#ffd27f", phase:"Solid", img:"images/Pa.jpg" },
{ n:92, s:"U", name:"Uranium", w:"238.02891", x:7, y:9.6, color:"#ffd27f", phase:"Solid", img:"images/U.jpg" },
{ n:93, s:"Np", name:"Neptunium", w:"237", x:8, y:9.6, color:"#ffd27f", phase:"Solid", img:"images/Np.jpg" },
{ n:94, s:"Pu", name:"Plutonium", w:"244", x:9, y:9.6, color:"#ffd27f", phase:"Solid", img:"images/Pu.jpg" },
{ n:95, s:"Am", name:"Americium", w:"243", x:10, y:9.6, color:"#ffd27f", phase:"Solid", img:"images/Am.jpg" },
{ n:96, s:"Cm", name:"Curium", w:"247", x:11, y:9.6, color:"#ffd27f", phase:"Solid", img:"images/Cm.jpg" },
{ n:97, s:"Bk", name:"Berkelium", w:"247", x:12, y:9.6, color:"#ffd27f", phase:"Solid", img:"images/Bk.jpg" },
{ n:98, s:"Cf", name:"Californium", w:"251", x:13, y:9.6, color:"#ffd27f", phase:"Solid", img:"images/Cf.jpg" },
{ n:99, s:"Es", name:"Einsteinium", w:"252", x:14, y:9.6, color:"#ffd27f", phase:"Solid", img:"images/Es.jpg" },
{ n:100, s:"Fm", name:"Fermium", w:"257", x:15, y:9.6, color:"#ffd27f", phase:"Solid", img:"images/Fm.jpg" },
{ n:101, s:"Md", name:"Mendelevium", w:"258", x:16, y:9.6, color:"#ffd27f", phase:"Solid", img:"images/Md.jpg" },
{ n:102, s:"No", name:"Nobelium", w:"259", x:17, y:9.6, color:"#ffd27f", phase:"Solid", img:"images/No.jpg" },
{ n:103, s:"Lr", name:"Lawrencium", w:"262", x:18, y:9.6, color:"#ffd27f", phase:"Solid", img:"images/Lr.jpg" },

  ];

  // pre-load images (optional)
  elements.forEach(e => { const img = new Image(); img.src = e.img; });

  function hexPoints(r){return range(6).map(i=>{const a=Math.PI/6+i*Math.PI/3;return [50+r*Math.cos(a),50+r*Math.sin(a)].join(",");}).join(" ");}

  class ElementView {
    constructor(p, el) {
      const spacingX = 4.2;
      const spacingY = 4;
      const offset = (el.y % 2) * spacingX / 2;
      this.root = p.append("div").classed("element-root", true)
        .style("left", `${el.x * spacingX + offset}vw`)
        .style("top", `${el.y * spacingY}vw`);
      this.svg = this.root.append("svg").attr("viewBox","0 0 100 100").classed("svg",true);
      this.border = this.svg.append("polygon").attr("points",hexPoints(40)).attr("stroke",el.color).attr("class","border-path");
      this.root.append("div").classed("symbol",true).text(el.s).style("color",el.color);
      this.root.append("div").classed("element-number",true).text(el.n);
      this.item = el;

      if(el.phase==="Gas"){
        this.atoms = [];
        for(let i=0;i<4;i++){
          const atom = this.svg.append("circle").attr("r",3).attr("fill",el.color+"bb");
          atom.s1=Math.random()*2*Math.PI;
          atom.s2=Math.random()*2*Math.PI;
          this.atoms.push(atom);
        }
      }
      if(el.phase==="Liquid"){
        this.wave=this.svg.append("circle").attr("r",12).attr("fill",el.color+"44");
      }
      this.border = this.svg.append("polygon")
  .attr("points", hexPoints(40))
  .attr("stroke", el.color)
  .attr("class", "border-path");

if(el.phase==="Solid"){
  this.border.style("animation","solidGlow 2s infinite ease-in-out");
}

    }
    update(t){
      if(this.atoms)this.atoms.forEach(a=>{a.attr("cx",50+18*Math.sin(a.s1+t)).attr("cy",50+18*Math.sin(a.s2+t));});
      if(this.wave)this.wave.attr("r",12+4*Math.sin(t*3));
    }
  }

  const container=d3.select("#container");
  const created=[];
  elements.forEach((el,i)=>{
    const ev=new ElementView(container,el);
    created.push(ev);
    ev.root.on("click",()=>openModal(i));
  });

  const modal=document.getElementById("modal");
  const modalSymbol=document.getElementById("modal-symbol");
  const modalImage=document.getElementById("modal-image");
  const modalNumber=document.getElementById("modal-number");
  const modalName=document.getElementById("modal-name");
  const modalWeight=document.getElementById("modal-weight");
  const prevBtn=document.getElementById("prev-btn");
  const nextBtn=document.getElementById("next-btn");
  const closeBtn=document.getElementById("close-btn");
  let currentIndex=0;

  function openModal(idx){
    currentIndex=idx;
    const e=elements[idx];
    modalSymbol.textContent=e.s;
    modalNumber.textContent=e.n;
    modalName.textContent=e.name;
    modalWeight.textContent=e.w;
    modalImage.src=e.img;
    modal.classList.add("show");
    modal.setAttribute("aria-hidden","false");
  }
  function closeModal(){
    modal.classList.remove("show");
    modal.setAttribute("aria-hidden","true");
  }
  prevBtn.onclick = () => { if(currentIndex>0) openModal(currentIndex-1); };
  nextBtn.onclick = () => { if(currentIndex<elements.length-1) openModal(currentIndex+1); };
  closeBtn.onclick = () => closeModal();
  window.onclick = (ev) => { if(ev.target===modal) closeModal(); };
  window.onkeydown = (ev) => {
    if(!modal.classList.contains("show")) return;
    if(ev.key==="Escape") closeModal();
    if(ev.key==="ArrowLeft"&&currentIndex>0) openModal(currentIndex-1);
    if(ev.key==="ArrowRight"&&currentIndex<elements.length-1) openModal(currentIndex+1);
  };

  let step=0;
  function animate(){
    step=(step+1)%2000;
    const t=step/2000*TAU;
    created.forEach(c=>c.update(t));
    requestAnimationFrame(animate);
  }
  animate();
});
</script>
</body>
</html>


